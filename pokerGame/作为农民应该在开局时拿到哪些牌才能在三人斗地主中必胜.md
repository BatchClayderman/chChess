最近在写通用扑克牌实现与残局解杀算法，随后看到某音上有个人发牌阶段拿到王炸、四个 2、四个 A、四个 K、三个 Q。由于不是那位朋友第一位选择是否叫地主，因此即使他在第二位选择了抢地主也无法抢过第一位或第三位（除非第一位不叫或不抢且第三位不抢）。随后，那位朋友的上家当上了地主，自己和下家则双双点击了超级加倍（估计下家就是四个 J、四个 10、四个 9、四个 8 之类的牌因为发到炸弹很多的牌的情况不常见可以几手炸完走完所以觉得自己能赢），结果地主一手 20 张的飞机（貌似是 777666555444333 带五张）直接取胜，而且还是春天。当然，笔者在此羡慕两位农民能够拿到那么好的牌，因为笔者在某岛上斗地主时经常拿到 3456 没 7、JQKA 没 10、无 2 无鬼、在 3456 或 JQKA 中节外生枝出那么两对的断头牌，遇到的农民大部分不懂斗地主规则或故意给地主刷分。



---



下面闲话少说，我们来探讨一下题目所示的话题，一起来看看是否存在作为农民时，看到自己手上的 17 张牌后，可以确定无论剩下的牌在地主和另一名农民手里如何分布以及无论地主和另一位农民怎么打，通过自己正确的打法，农民都必胜的情况。我们旨在找出这样的 17 张牌。关于地主拿到 20 张牌或者 17 张牌时无论两位农民有什么牌怎么打地主都能必赢的情况很多，也很容易推导，本文就不赘述了。

首先，我们先定义三人斗地主的规则，不考虑斗地主的变体，并对一些争议进行明确。

1) 国际规则：[https://www.xqbase.com/other/landlord.htm](https://www.xqbase.com/other/landlord.htm)；
2) 没有癞子交换牌等变体：不存在在搭配其它牌时可以将被定义为癞子的牌替换为任意牌的规则（天癞、地癞均属于癞子），不存在交换牌等变体操作；
3) 认为飞机在带两张或两对时，允许所选的两张的点数与飞机母体的点数相等，允许所选的两张或两对自身点数相等，例如一手 44443333 视为 444333 + 4 + 3，一手 44433355 视为 444333 + 5 + 5，一手 4443335555 视为 444333 + 55 + 55；
4) 认为四带两张或两对时，允许所带的两张或两对自身点数相等，例如一手 444455 视为 4444 + 5 + 5，一手 55553333 视为 5555 + 33 + 33，一手 44443333 视为 4444 + 33 + 33，当然，44443333 在出牌时，需由出牌人确定为飞机还是四带二。

---

这里先给出答案，存在这么 17 张牌，作为农民拿到这 17 张牌时，无论地主和另一位农民的牌怎么样以及怎么出牌，通过我们自己的打法，能保证农民必赢。

部分读者朋友可能会认为，我作为农民，一手王炸，一手 15 张的飞机走完不就可以必赢了吗？其实不然，本文开头时那位某音上的朋友作为农民拿着四个最大的炸弹剩一手牌都走不完，更何况一个王炸一手 15 张的飞机？那么问题出在哪里呢？眼尖的读者朋友应该发现了“地主一手走完”的这个问题，倘若第一位被分配到选择是否叫地主的玩家开局时手里有个长度为 5 的飞机，那么他叫地主抢地主后无论地主牌为什么都必赢，因为长度为 5 的飞机可以直接带走剩余的一张和新增的三张地主排。

那么，要解决题目所呈现的问题，就需要来考虑\*\*在最大的炸弹在自己手里的情况下\*\*，如何阻断地主一手走完的情况了（很明显最大炸弹不在自己手里地主有很多种情况都能获胜，无法保证无论地主和另一位农民）。要考虑如何阻断地主一手走完，则需要探讨所有规则中能够一次性出完 20 张牌的情况。分析可知，有如下三种情况。

1) 长度为 5 的飞机，带走四张单牌，由 $4 \\times 5 = 20$ 可知可以一手走完；
2) 长度为 4 的飞机，带走四个对子，由 $5 \\times 4 = 20$ 可知可以一手走完；
3) 长度为 10 的连对，由 $2 \\times 10 = 20$ 可知可以一手走完。

部分友友可能会有如下的考虑。

1) 长顺子：由于斗地主顺子不能带 2，所以 3 到 A 共计 12 张牌无法一次性走完；
2) 不拖不带的飞机：此类牌的牌数必然为 3 的倍数，而地主初始牌为 20 张，不可能一次性走完；
3) 另一位农民不配合：把自己当成地主，一个人对抗剩下两位玩家即可。

下面来分析如何构造这样的 17 张牌。

1) 首先，最大的炸弹要拿到手，否则没有发言权，考虑 王炸 + 2222 + AAAA 或 一个王 + 2222 + AAAA 的形式，当然王炸之后能一手走完的也行；
2) 阻断长度为 4 的飞机，在 1) 的情况下，只需要将 66、1010 拿到手，便能阻断，因为 555444333、999888777、KKKQQQJJJ 的长度均最大为 3，地主第一手牌最多走掉 15 张；
3) 阻断长连对：只需要将上到 QQQ （剩余 3 到 J 组成的最大长度为 9 的连对）、下到 555（剩余 6 到 A 组成的最大长度为 9 的连对）的三张拿到手，便能阻断。

不妨直接将 10、10 延续为 4 个 10，将 6、6 延续为 3 个 6，构造 王炸 + 2222 + AAAA + 10101010 + 666 的 17 张牌，同时满足以上三个条件，便可实现必赢。

1) 若地主出 15 张牌的飞机（由于 A、10 和 6 被阻断地主出最多长度为 3 的飞机），无论另一位农民在前或是后，我们均出四个 A 炸上家；由于四个 A 是最大的炸弹（王炸和四个 2 在手里），另外两位玩家均无更大的牌盖过 4 个 A，下一手牌出四个 10，由于地主剩余 5 张牌，即使有也只能走掉 4 张，而无论另一位农民出什么是在地主前或后出，我们均出四个 2 炸上家，随后王炸，三个 6 即可；
2) 若地主出 12 张牌的飞机（由于 A、10 和 6 被阻断地主出最多长度为 3 的飞机），同上，即使地主留两个大于 10 的炸弹，也至多只能出掉一个，剩余四张牌；
3) 若地主出四带两对（不存在 44443333 + QQJJ + 9988 的规则），同上，即使地主留两个大于 10 的炸弹，也至多只能出掉一个，剩余八张牌，四带两张同理；
4) 若地主出 7 张牌的顺子（由于 A 和 10 被阻断地主出最多长度为 7 的顺子），同上，地主甚至在输牌时剩下的牌更多（最少 9 张）；
5) 若地主出 6 张牌的连对（由于 A、10 和 6 被阻断地主出最多长度为 3 的连对），同上，地主甚至在输牌时剩下的牌更多（最少 10 张）；
6) 其它情况，地主第一手牌最多走 6 张，同上即可。

综上所述，存在 王炸 + 2222 + AAAA + 10101010 + 666 的 17 张牌，在农民拿到这 17 张牌后，无论地主和另一位农民是什么牌、怎么出，只要按照上述的打法走，农民都能必赢。

当然还有其它的构造方法，例如 大王或小王中的一张 + 2222 + AAAA + KKK + 101010 + 66 的 17 张牌，也可以实现必赢。

1) 若地主出 15 张牌的飞机（由于 K、10 和 6 被阻断地主出最多长度为 3 的飞机），无论另一位农民在前或是后，我们均出四个 A 炸上家；由于四个 A 是最大的炸弹（一个王导致没有王炸且四个 2 在手里），另外两位玩家均无更大的牌盖过 4 个 A，下一手牌出 KKK 带王或 KKK66（不存在更大的三带一对所地主只能出炸弹）或 101010 带王（注意不要出 101010 + 6 6 否则可能被地主直接三带一对走完），由于地主剩余 5 张牌，即使有也只能走掉 4 张（三带一或者炸弹），而无论另一位农民出什么是在地主前或后出，我们均出四个 2 炸上家，随后三带一走完即可；
2) 若地主出 12 张牌的飞机（由于 K、10 和 6 被阻断地主出最多长度为 3 的飞机），同上，地主至少剩余四张牌；
3) 若地主出四带两对（不存在 44443333 + QQJJ + 9988 的规则），同上，地主至少剩余八张牌，四带两张同理；
4) 若地主出 7 张牌的顺子（由于 K 和 10 被阻断地主出最多长度为 7 的顺子），同上，地主甚至在输牌时剩下的牌更多（最少 9 张）；
5) 若地主出 6 张牌的连对（由于 K、10 和 6 被阻断地主出最多长度为 3 的连对），同上，地主甚至在输牌时剩下的牌更多（最少 10 张）；
6) 其它情况，地主第一手牌最多走 6 张，同上即可。

该牌相比于之前的牌少一手炸弹，分值略有下降。当然，还有很多变体，例如 大王或小王中的一张 + 2222 + AAAA + KKK + 1010 + 666 的 17 张牌，也可以实现必赢，此处就不再赘述。有兴趣的读者朋友可以利用计算机算法找出所有这样的 17 张牌，能证明完备性估计至少能发一篇 SCIE 论文。

---

那么，是否存在 17 张牌，作为农民时，看到自己手上的这 17 张牌后，可以确定无论剩下的牌在地主和另一名农民手里如何分布以及无论地主和另一位农民怎么打，通过自己正确的打法，农民都能反春天（地主出了一手牌后就没出过就被农民直接赢了）呢？

那就王炸之后一手走完，根据保证前文所述三点防止地主一手走完，以下构造均可。

1) 王炸 + AAAKKKQQQ + 8866 + 任意一对（此处恰好最长的连对为 18 张）；
2) 王炸 + KKKQQQJJJ + 7766 + 任意一对；
3) 王炸 + QQQJJJ101010 + 66 + 任意两对；
4) 王炸 + JJJ101010999 + 66 + 任意两对（规则中不存在 222AAAKKKQQQ）；
5) 王炸 + JJJ101010999 + 55 + 任意两对；
6) 王炸 + 101010999888 + AA66 + 任意一对；
7) 王炸 + 101010999888 + AA55 + 任意一对；
8) 王炸 + 101010999888 + AA44 + 任意一对；
9) 王炸 + 999888777 + KK66 + 任意一对；
10) 王炸 + 999888777 + KK33 + 任意一对；
11) 王炸 + 888777666 + QQ + 任意两对；
12) 王炸 + 888777666 + JJ + 任意两对；
13) 王炸 + 777666555 + JJ + 任意两对；
14) 王炸 + 666555444 + JJ1010（使得 7 ~ A 中不存在长度大于等于 4 的飞机即可） + 任意一对；
15) 王炸 + 555444333 + JJ99（使得 6 ~ A 中不存在长度大于等于 4 的飞机即可） + 任意一对 + 任意一对（此处恰好最长的连对为 18 张）。

主要利用了 17 张牌去除两张王余下 15 张牌的性质，具体分析过程读者朋友们自行证明即可。或许还有其它情况。

当然，以上无论是必胜还是能够到反春天，最后都是自己走完获胜。

---

此处顺便提一嘴三两一，是否存在作为无方块 3 的玩家时，存在那么 13 张牌通过合理的打法后就一定能获胜呢？答案是否定的。斗地主是 17 张牌抗衡剩下的 37 张牌，三两一则难以通过 13 张牌抗衡剩下的 39 张牌。

1) 拦截长连对：拥有方块 3 的玩家通过 6 个连对一手走完；
2) 拦截连续的三个带一个：拥有方块 3 的玩家通过长度为 4 的连续的三个带一张一手走完；
3) 拦截长顺子：拥有方块 3 的玩家直接 3 ~ 2 的牌一手走完；
4) ……

三两一既没有炸弹又允许顺子带 2、连对带 2、三个带 2……总之，即使能拦断，也没法盖过上家（牌不够多）。

---

文末，我们来对比一下高中生身高、高中数学的一种常见命题、中国象棋残局和本文所探讨的关于三人斗地主的话题。

1) 高中生身高：任意从高一（1）班中挑选一名高中生，在高二（2）班中，能够找到一名高中生，比从高一（1）班中挑出来的那名高中生高；换言之，高二（2）班存在一名高中生，其身高比高一（1）班所有高中生都高。
2) 高中数学命题：$\\forall x \\in \\mathbb{R}, \\exists y \\in \\mathbb{R}$, s.t. $f(x) < g(y)$，换句话说，函数 $g$ 的图像中存在一个点，其 $y$ 值均大于函数 $f$ 的图像上的所有点的 $y$ 值。
3) 中国象棋残局：当前局面存在一种着法，无论对方怎么应着，我方均有相应的着法，使得对方被绝杀（着法为空集，或者说，解空间大小为 0）。
4) 三人斗地主：存在一种初始牌和一种打法，无论地主和另一位农民是什么牌以及怎么打，农民都能获胜。

更多的，这是动态规划的选牌和博弈树的搜索。

总之，初始牌看运气，打法看技术。如果不会打，即使是必胜的牌，也可以出成输牌的局面，俗称一手好牌打得稀烂。当然，通常情况下，斗地主还需要看和另一位农民的配合，像某岛上自私自利以为自己走剩的牌越少就越好的玩家就没什么可说的了，基本规则都不懂就不要去连累别人。当然，打斗地主前还是要弄清楚是否允许飞机和四带二时被带的部分能够和母体或自身重复，免得尴尬。另外，记得在最后一手牌的时候不要用托管去出。

---

注：
1) 本文属于计算机算法范畴，请勿用于赌博，可用于读博。有兴趣编写牌类算法的读者朋友可以自行尝试，寻找出所有满足题意的可能，编写残局解杀程序，或像中国象棋云库那样构造牌类云库。
2) 如果您是通过 CSDN 跳转到此页面并读取到该文档，则说明该文档无法在 CSDN 中发布（即使它被标记为高质量文章），因此本人只能在 GitHub 上进行发布。

